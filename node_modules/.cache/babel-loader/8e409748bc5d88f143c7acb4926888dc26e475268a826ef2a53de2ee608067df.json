{"ast":null,"code":"import HealthDataController from '../controllers/HealthDataController';\n\n/**\r\n * JournalPresenter - Handles presenting data for the Journal view\r\n */\nclass JournalPresenter {\n  constructor() {\n    this.healthDataController = new HealthDataController();\n  }\n\n  /**\r\n   * Save a journal entry\r\n   * @param {Object} journalData - The journal entry data\r\n   * @returns {Object} - The saved entry\r\n   */\n  saveJournalEntry(journalData) {\n    // Format data for the model\n    const entry = {\n      mood: parseInt(journalData.mood, 10),\n      energy: parseInt(journalData.energy, 10),\n      symptoms: this.parseSymptoms(journalData.symptoms),\n      notes: journalData.notes,\n      tags: this.parseTags(journalData.tags)\n    };\n    return this.healthDataController.saveJournalEntry(entry);\n  }\n\n  /**\r\n   * Get recent journal entries\r\n   * @param {Number} count - Number of entries to retrieve\r\n   * @returns {Array} - Recent journal entries\r\n   */\n  getRecentEntries(count = 5) {\n    const allEntries = [...this.healthDataController.healthData.journalEntries];\n    return allEntries.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp)).slice(0, count);\n  }\n\n  /**\r\n   * Parse symptoms string into array of symptom objects\r\n   * @param {String} symptomsStr - Comma-separated symptoms with optional severity\r\n   * @returns {Array} - Array of symptom objects\r\n   */\n  parseSymptoms(symptomsStr) {\n    if (!symptomsStr) return [];\n    return symptomsStr.split(',').map(symptom => {\n      const parts = symptom.trim().split(':');\n      return {\n        name: parts[0].trim(),\n        severity: parts.length > 1 ? parseInt(parts[1], 10) : 5\n      };\n    });\n  }\n\n  /**\r\n   * Parse tags string into array of tags\r\n   * @param {String} tagsStr - Comma or space separated tags\r\n   * @returns {Array} - Array of tags\r\n   */\n  parseTags(tagsStr) {\n    if (!tagsStr) return [];\n\n    // Replace commas with spaces and split by space\n    return tagsStr.replace(/,/g, ' ').split(' ').map(tag => tag.trim()).filter(tag => tag.length > 0);\n  }\n}\nexport default JournalPresenter;","map":{"version":3,"names":["HealthDataController","JournalPresenter","constructor","healthDataController","saveJournalEntry","journalData","entry","mood","parseInt","energy","symptoms","parseSymptoms","notes","tags","parseTags","getRecentEntries","count","allEntries","healthData","journalEntries","sort","a","b","Date","timestamp","slice","symptomsStr","split","map","symptom","parts","trim","name","severity","length","tagsStr","replace","tag","filter"],"sources":["C:/Users/xiezh/OneDrive/Desktop/code/mlh-hackathon/hoohacks/health_sync_flutter/src/presenters/JournalPresenter.js"],"sourcesContent":["import HealthDataController from '../controllers/HealthDataController';\r\n\r\n/**\r\n * JournalPresenter - Handles presenting data for the Journal view\r\n */\r\nclass JournalPresenter {\r\n  constructor() {\r\n    this.healthDataController = new HealthDataController();\r\n  }\r\n\r\n  /**\r\n   * Save a journal entry\r\n   * @param {Object} journalData - The journal entry data\r\n   * @returns {Object} - The saved entry\r\n   */\r\n  saveJournalEntry(journalData) {\r\n    // Format data for the model\r\n    const entry = {\r\n      mood: parseInt(journalData.mood, 10),\r\n      energy: parseInt(journalData.energy, 10),\r\n      symptoms: this.parseSymptoms(journalData.symptoms),\r\n      notes: journalData.notes,\r\n      tags: this.parseTags(journalData.tags)\r\n    };\r\n    \r\n    return this.healthDataController.saveJournalEntry(entry);\r\n  }\r\n\r\n  /**\r\n   * Get recent journal entries\r\n   * @param {Number} count - Number of entries to retrieve\r\n   * @returns {Array} - Recent journal entries\r\n   */\r\n  getRecentEntries(count = 5) {\r\n    const allEntries = [...this.healthDataController.healthData.journalEntries];\r\n    return allEntries\r\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n      .slice(0, count);\r\n  }\r\n\r\n  /**\r\n   * Parse symptoms string into array of symptom objects\r\n   * @param {String} symptomsStr - Comma-separated symptoms with optional severity\r\n   * @returns {Array} - Array of symptom objects\r\n   */\r\n  parseSymptoms(symptomsStr) {\r\n    if (!symptomsStr) return [];\r\n    \r\n    return symptomsStr.split(',').map(symptom => {\r\n      const parts = symptom.trim().split(':');\r\n      return {\r\n        name: parts[0].trim(),\r\n        severity: parts.length > 1 ? parseInt(parts[1], 10) : 5\r\n      };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Parse tags string into array of tags\r\n   * @param {String} tagsStr - Comma or space separated tags\r\n   * @returns {Array} - Array of tags\r\n   */\r\n  parseTags(tagsStr) {\r\n    if (!tagsStr) return [];\r\n    \r\n    // Replace commas with spaces and split by space\r\n    return tagsStr\r\n      .replace(/,/g, ' ')\r\n      .split(' ')\r\n      .map(tag => tag.trim())\r\n      .filter(tag => tag.length > 0);\r\n  }\r\n}\r\n\r\nexport default JournalPresenter;\r\n"],"mappings":"AAAA,OAAOA,oBAAoB,MAAM,qCAAqC;;AAEtE;AACA;AACA;AACA,MAAMC,gBAAgB,CAAC;EACrBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,oBAAoB,GAAG,IAAIH,oBAAoB,CAAC,CAAC;EACxD;;EAEA;AACF;AACA;AACA;AACA;EACEI,gBAAgBA,CAACC,WAAW,EAAE;IAC5B;IACA,MAAMC,KAAK,GAAG;MACZC,IAAI,EAAEC,QAAQ,CAACH,WAAW,CAACE,IAAI,EAAE,EAAE,CAAC;MACpCE,MAAM,EAAED,QAAQ,CAACH,WAAW,CAACI,MAAM,EAAE,EAAE,CAAC;MACxCC,QAAQ,EAAE,IAAI,CAACC,aAAa,CAACN,WAAW,CAACK,QAAQ,CAAC;MAClDE,KAAK,EAAEP,WAAW,CAACO,KAAK;MACxBC,IAAI,EAAE,IAAI,CAACC,SAAS,CAACT,WAAW,CAACQ,IAAI;IACvC,CAAC;IAED,OAAO,IAAI,CAACV,oBAAoB,CAACC,gBAAgB,CAACE,KAAK,CAAC;EAC1D;;EAEA;AACF;AACA;AACA;AACA;EACES,gBAAgBA,CAACC,KAAK,GAAG,CAAC,EAAE;IAC1B,MAAMC,UAAU,GAAG,CAAC,GAAG,IAAI,CAACd,oBAAoB,CAACe,UAAU,CAACC,cAAc,CAAC;IAC3E,OAAOF,UAAU,CACdG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,CAC7DC,KAAK,CAAC,CAAC,EAAET,KAAK,CAAC;EACpB;;EAEA;AACF;AACA;AACA;AACA;EACEL,aAAaA,CAACe,WAAW,EAAE;IACzB,IAAI,CAACA,WAAW,EAAE,OAAO,EAAE;IAE3B,OAAOA,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,OAAO,IAAI;MAC3C,MAAMC,KAAK,GAAGD,OAAO,CAACE,IAAI,CAAC,CAAC,CAACJ,KAAK,CAAC,GAAG,CAAC;MACvC,OAAO;QACLK,IAAI,EAAEF,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;QACrBE,QAAQ,EAAEH,KAAK,CAACI,MAAM,GAAG,CAAC,GAAG1B,QAAQ,CAACsB,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG;MACxD,CAAC;IACH,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;AACA;AACA;EACEhB,SAASA,CAACqB,OAAO,EAAE;IACjB,IAAI,CAACA,OAAO,EAAE,OAAO,EAAE;;IAEvB;IACA,OAAOA,OAAO,CACXC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAClBT,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAACS,GAAG,IAAIA,GAAG,CAACN,IAAI,CAAC,CAAC,CAAC,CACtBO,MAAM,CAACD,GAAG,IAAIA,GAAG,CAACH,MAAM,GAAG,CAAC,CAAC;EAClC;AACF;AAEA,eAAejC,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}