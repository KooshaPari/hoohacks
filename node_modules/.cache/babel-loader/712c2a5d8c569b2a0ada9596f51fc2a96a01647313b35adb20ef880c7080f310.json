{"ast":null,"code":"import HealthDataController from'../controllers/HealthDataController';/**\r\n * JournalPresenter - Handles presenting data for the Journal view\r\n */class JournalPresenter{constructor(){this.healthDataController=new HealthDataController();}/**\r\n   * Save a journal entry\r\n   * @param {Object} journalData - The journal entry data\r\n   * @returns {Object} - The saved entry\r\n   */saveJournalEntry(journalData){// Format data for the model\nconst entry={mood:parseInt(journalData.mood,10),energy:parseInt(journalData.energy,10),symptoms:this.parseSymptoms(journalData.symptoms),notes:journalData.notes,tags:this.parseTags(journalData.tags)};return this.healthDataController.saveJournalEntry(entry);}/**\r\n   * Get recent journal entries\r\n   * @param {Number} count - Number of entries to retrieve\r\n   * @returns {Array} - Recent journal entries\r\n   */getRecentEntries(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;const allEntries=[...this.healthDataController.healthData.journalEntries];return allEntries.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp)).slice(0,count);}/**\r\n   * Parse symptoms string into array of symptom objects\r\n   * @param {String} symptomsStr - Comma-separated symptoms with optional severity\r\n   * @returns {Array} - Array of symptom objects\r\n   */parseSymptoms(symptomsStr){if(!symptomsStr)return[];return symptomsStr.split(',').map(symptom=>{const parts=symptom.trim().split(':');return{name:parts[0].trim(),severity:parts.length>1?parseInt(parts[1],10):5};});}/**\r\n   * Parse tags string into array of tags\r\n   * @param {String} tagsStr - Comma or space separated tags\r\n   * @returns {Array} - Array of tags\r\n   */parseTags(tagsStr){if(!tagsStr)return[];// Replace commas with spaces and split by space\nreturn tagsStr.replace(/,/g,' ').split(' ').map(tag=>tag.trim()).filter(tag=>tag.length>0);}}export default JournalPresenter;","map":{"version":3,"names":["HealthDataController","JournalPresenter","constructor","healthDataController","saveJournalEntry","journalData","entry","mood","parseInt","energy","symptoms","parseSymptoms","notes","tags","parseTags","getRecentEntries","count","arguments","length","undefined","allEntries","healthData","journalEntries","sort","a","b","Date","timestamp","slice","symptomsStr","split","map","symptom","parts","trim","name","severity","tagsStr","replace","tag","filter"],"sources":["C:/Users/xiezh/OneDrive/Desktop/code/mlh-hackathon/hoohacks/health_sync_flutter/src/presenters/JournalPresenter.js"],"sourcesContent":["import HealthDataController from '../controllers/HealthDataController';\r\n\r\n/**\r\n * JournalPresenter - Handles presenting data for the Journal view\r\n */\r\nclass JournalPresenter {\r\n  constructor() {\r\n    this.healthDataController = new HealthDataController();\r\n  }\r\n\r\n  /**\r\n   * Save a journal entry\r\n   * @param {Object} journalData - The journal entry data\r\n   * @returns {Object} - The saved entry\r\n   */\r\n  saveJournalEntry(journalData) {\r\n    // Format data for the model\r\n    const entry = {\r\n      mood: parseInt(journalData.mood, 10),\r\n      energy: parseInt(journalData.energy, 10),\r\n      symptoms: this.parseSymptoms(journalData.symptoms),\r\n      notes: journalData.notes,\r\n      tags: this.parseTags(journalData.tags)\r\n    };\r\n    \r\n    return this.healthDataController.saveJournalEntry(entry);\r\n  }\r\n\r\n  /**\r\n   * Get recent journal entries\r\n   * @param {Number} count - Number of entries to retrieve\r\n   * @returns {Array} - Recent journal entries\r\n   */\r\n  getRecentEntries(count = 5) {\r\n    const allEntries = [...this.healthDataController.healthData.journalEntries];\r\n    return allEntries\r\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n      .slice(0, count);\r\n  }\r\n\r\n  /**\r\n   * Parse symptoms string into array of symptom objects\r\n   * @param {String} symptomsStr - Comma-separated symptoms with optional severity\r\n   * @returns {Array} - Array of symptom objects\r\n   */\r\n  parseSymptoms(symptomsStr) {\r\n    if (!symptomsStr) return [];\r\n    \r\n    return symptomsStr.split(',').map(symptom => {\r\n      const parts = symptom.trim().split(':');\r\n      return {\r\n        name: parts[0].trim(),\r\n        severity: parts.length > 1 ? parseInt(parts[1], 10) : 5\r\n      };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Parse tags string into array of tags\r\n   * @param {String} tagsStr - Comma or space separated tags\r\n   * @returns {Array} - Array of tags\r\n   */\r\n  parseTags(tagsStr) {\r\n    if (!tagsStr) return [];\r\n    \r\n    // Replace commas with spaces and split by space\r\n    return tagsStr\r\n      .replace(/,/g, ' ')\r\n      .split(' ')\r\n      .map(tag => tag.trim())\r\n      .filter(tag => tag.length > 0);\r\n  }\r\n}\r\n\r\nexport default JournalPresenter;\r\n"],"mappings":"AAAA,MAAO,CAAAA,oBAAoB,KAAM,qCAAqC,CAEtE;AACA;AACA,GACA,KAAM,CAAAC,gBAAiB,CACrBC,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACC,oBAAoB,CAAG,GAAI,CAAAH,oBAAoB,CAAC,CAAC,CACxD,CAEA;AACF;AACA;AACA;AACA,KACEI,gBAAgBA,CAACC,WAAW,CAAE,CAC5B;AACA,KAAM,CAAAC,KAAK,CAAG,CACZC,IAAI,CAAEC,QAAQ,CAACH,WAAW,CAACE,IAAI,CAAE,EAAE,CAAC,CACpCE,MAAM,CAAED,QAAQ,CAACH,WAAW,CAACI,MAAM,CAAE,EAAE,CAAC,CACxCC,QAAQ,CAAE,IAAI,CAACC,aAAa,CAACN,WAAW,CAACK,QAAQ,CAAC,CAClDE,KAAK,CAAEP,WAAW,CAACO,KAAK,CACxBC,IAAI,CAAE,IAAI,CAACC,SAAS,CAACT,WAAW,CAACQ,IAAI,CACvC,CAAC,CAED,MAAO,KAAI,CAACV,oBAAoB,CAACC,gBAAgB,CAACE,KAAK,CAAC,CAC1D,CAEA;AACF;AACA;AACA;AACA,KACES,gBAAgBA,CAAA,CAAY,IAAX,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CACxB,KAAM,CAAAG,UAAU,CAAG,CAAC,GAAG,IAAI,CAACjB,oBAAoB,CAACkB,UAAU,CAACC,cAAc,CAAC,CAC3E,MAAO,CAAAF,UAAU,CACdG,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAC,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,CAC7DC,KAAK,CAAC,CAAC,CAAEZ,KAAK,CAAC,CACpB,CAEA;AACF;AACA;AACA;AACA,KACEL,aAAaA,CAACkB,WAAW,CAAE,CACzB,GAAI,CAACA,WAAW,CAAE,MAAO,EAAE,CAE3B,MAAO,CAAAA,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,OAAO,EAAI,CAC3C,KAAM,CAAAC,KAAK,CAAGD,OAAO,CAACE,IAAI,CAAC,CAAC,CAACJ,KAAK,CAAC,GAAG,CAAC,CACvC,MAAO,CACLK,IAAI,CAAEF,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CACrBE,QAAQ,CAAEH,KAAK,CAACf,MAAM,CAAG,CAAC,CAAGV,QAAQ,CAACyB,KAAK,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,CACxD,CAAC,CACH,CAAC,CAAC,CACJ,CAEA;AACF;AACA;AACA;AACA,KACEnB,SAASA,CAACuB,OAAO,CAAE,CACjB,GAAI,CAACA,OAAO,CAAE,MAAO,EAAE,CAEvB;AACA,MAAO,CAAAA,OAAO,CACXC,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAClBR,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAACQ,GAAG,EAAIA,GAAG,CAACL,IAAI,CAAC,CAAC,CAAC,CACtBM,MAAM,CAACD,GAAG,EAAIA,GAAG,CAACrB,MAAM,CAAG,CAAC,CAAC,CAClC,CACF,CAEA,cAAe,CAAAjB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}