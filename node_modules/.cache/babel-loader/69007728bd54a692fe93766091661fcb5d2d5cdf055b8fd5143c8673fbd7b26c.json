{"ast":null,"code":"import HealthData from'../models/HealthData';/**\r\n * HealthDataController - Handles business logic for health data\r\n */class HealthDataController{constructor(){this.healthData=new HealthData();this.loadMockData();}/**\r\n   * Load mock data for demo purposes\r\n   */loadMockData(){// Mock journal entries\nconst journalEntries=[{id:'1',timestamp:new Date('2025-03-25T08:30:00').toISOString(),mood:3,energy:2,symptoms:[{name:'Headache',severity:6}],notes:'Slept poorly last night. Busy day with back-to-back meetings.',tags:['stress','poor_sleep']},{id:'2',timestamp:new Date('2025-03-26T09:15:00').toISOString(),mood:3,energy:3,symptoms:[],notes:'Feeling better today. Made time for breakfast.',tags:[]},{id:'3',timestamp:new Date('2025-03-27T08:45:00').toISOString(),mood:4,energy:4,symptoms:[],notes:'Productive day. Took a walk during lunch break.',tags:['good_day']},{id:'4',timestamp:new Date('2025-03-28T07:30:00').toISOString(),mood:3,energy:3,symptoms:[],notes:'Normal day. Nothing special to report.',tags:[]},{id:'5',timestamp:new Date('2025-03-29T08:00:00').toISOString(),mood:2,energy:2,symptoms:[{name:'Headache',severity:7},{name:'Fatigue',severity:6}],notes:'Skipped breakfast, worked through lunch. Headache started around 2pm.',tags:['skipped_meals','headache']}];journalEntries.forEach(entry=>this.healthData.addJournalEntry(entry));// Mock sleep data\nconst sleepData=[{timestamp:new Date('2025-03-25T00:00:00').toISOString(),duration:5.5,quality:'poor'},{timestamp:new Date('2025-03-26T00:00:00').toISOString(),duration:6.5,quality:'fair'},{timestamp:new Date('2025-03-27T00:00:00').toISOString(),duration:7.2,quality:'good'},{timestamp:new Date('2025-03-28T00:00:00').toISOString(),duration:6.8,quality:'fair'},{timestamp:new Date('2025-03-29T00:00:00').toISOString(),duration:6.1,quality:'fair'}];sleepData.forEach(data=>this.healthData.addHealthMetric('sleep',data));// Mock activity data\nconst activityData=[{timestamp:new Date('2025-03-25T00:00:00').toISOString(),steps:4200,activeCalories:180},{timestamp:new Date('2025-03-26T00:00:00').toISOString(),steps:6500,activeCalories:240},{timestamp:new Date('2025-03-27T00:00:00').toISOString(),steps:9100,activeCalories:320},{timestamp:new Date('2025-03-28T00:00:00').toISOString(),steps:7200,activeCalories:270},{timestamp:new Date('2025-03-29T00:00:00').toISOString(),steps:3800,activeCalories:150}];activityData.forEach(data=>this.healthData.addHealthMetric('activity',data));// Mock heart rate data\nconst heartRateData=[{timestamp:new Date('2025-03-25T00:00:00').toISOString(),resting:72},{timestamp:new Date('2025-03-26T00:00:00').toISOString(),resting:70},{timestamp:new Date('2025-03-27T00:00:00').toISOString(),resting:68},{timestamp:new Date('2025-03-28T00:00:00').toISOString(),resting:69},{timestamp:new Date('2025-03-29T00:00:00').toISOString(),resting:74}];heartRateData.forEach(data=>this.healthData.addHealthMetric('heartRate',data));}/**\r\n   * Get a summary of health data for a specific date range\r\n   * @param {Date} startDate - Start of date range\r\n   * @param {Date} endDate - End of date range\r\n   * @returns {Object} - Summary of health data\r\n   */getHealthSummary(startDate,endDate){const journalEntries=this.healthData.getJournalEntriesInRange(startDate,endDate);const sleepData=this.healthData.getHealthMetricsInRange('sleep',startDate,endDate);const activityData=this.healthData.getHealthMetricsInRange('activity',startDate,endDate);const heartRateData=this.healthData.getHealthMetricsInRange('heartRate',startDate,endDate);// Calculate summary statistics\nconst moodAverage=this.calculateAverage(journalEntries.map(entry=>entry.mood));const energyAverage=this.calculateAverage(journalEntries.map(entry=>entry.energy));const symptomCounts=this.countSymptoms(journalEntries);const sleepAverage=this.calculateAverage(sleepData.map(data=>data.duration));const stepsAverage=this.calculateAverage(activityData.map(data=>data.steps));const restingHRAverage=this.calculateAverage(heartRateData.map(data=>data.resting));// Format summary\nreturn{period:{start:startDate.toISOString(),end:endDate.toISOString()},entries:journalEntries.length,mood:{average:moodAverage},energy:{average:energyAverage},symptoms:symptomCounts,sleep:{average:sleepAverage},activity:{averageSteps:stepsAverage},heartRate:{averageResting:restingHRAverage}};}/**\r\n   * Get data for pattern analysis\r\n   * @param {String} symptom - The symptom to analyze\r\n   * @param {Date} startDate - Start of date range\r\n   * @param {Date} endDate - End of date range\r\n   * @returns {Object} - Pattern analysis data\r\n   */getPatternAnalysis(symptom,startDate,endDate){const journalEntries=this.healthData.getJournalEntriesInRange(startDate,endDate);const sleepData=this.healthData.getHealthMetricsInRange('sleep',startDate,endDate);const activityData=this.healthData.getHealthMetricsInRange('activity',startDate,endDate);// Separate entries with and without the symptom\nconst symptomDays=journalEntries.filter(entry=>entry.symptoms.some(s=>s.name.toLowerCase()===symptom.toLowerCase()));const nonSymptomDays=journalEntries.filter(entry=>!entry.symptoms.some(s=>s.name.toLowerCase()===symptom.toLowerCase()));// Calculate averages for both groups\nconst symptomSleepAvg=this.calculateAverageForDays(symptomDays,sleepData,'duration');const nonSymptomSleepAvg=this.calculateAverageForDays(nonSymptomDays,sleepData,'duration');const symptomStepsAvg=this.calculateAverageForDays(symptomDays,activityData,'steps');const nonSymptomStepsAvg=this.calculateAverageForDays(nonSymptomDays,activityData,'steps');// Get tags frequency\nconst symptomTags=this.getTagsFrequency(symptomDays);const nonSymptomTags=this.getTagsFrequency(nonSymptomDays);return{symptom,period:{start:startDate.toISOString(),end:endDate.toISOString()},symptomDaysCount:symptomDays.length,nonSymptomDaysCount:nonSymptomDays.length,comparisons:{sleep:{symptomDaysAvg:symptomSleepAvg,nonSymptomDaysAvg:nonSymptomSleepAvg,difference:nonSymptomSleepAvg-symptomSleepAvg},activity:{symptomDaysAvg:symptomStepsAvg,nonSymptomDaysAvg:nonSymptomStepsAvg,difference:nonSymptomStepsAvg-symptomStepsAvg}},tags:{symptomDays:symptomTags,nonSymptomDays:nonSymptomTags}};}/**\r\n   * Get the weekly narrative summary\r\n   * @returns {String} - Narrative text\r\n   */getWeeklyNarrative(){const endDate=new Date();const startDate=new Date();startDate.setDate(startDate.getDate()-7);const summary=this.getHealthSummary(startDate,endDate);// Generate a narrative\nlet narrative=\"Your Week in Review\\n\\n\";if(summary.symptoms.Headache){narrative+=`This week, you logged headaches on ${summary.symptoms.Headache.count} days, `;narrative+=`typically rating them as moderate to severe (${summary.symptoms.Headache.avgSeverity}/10). `;}narrative+=`Your energy levels tended to be higher on days when you slept more than 7 hours `;narrative+=`and took more than 8,000 steps. `;if(summary.symptoms.Headache&&summary.symptoms.Headache.count>0){narrative+=`Notably, headache days occurred when you had fewer than 6 hours of sleep `;narrative+=`and lower physical activity. Your heart rate was also slightly elevated on these days `;narrative+=`compared to your headache-free days.`;}return narrative;}/**\r\n   * Get doctor visit summary\r\n   * @returns {Object} - Summary data for doctor visit\r\n   */getDoctorVisitSummary(){const endDate=new Date();const startDate=new Date();startDate.setDate(startDate.getDate()-30);const summary=this.getHealthSummary(startDate,endDate);const journalEntries=this.healthData.getJournalEntriesInRange(startDate,endDate);// Get all unique symptoms\nconst symptoms={};journalEntries.forEach(entry=>{entry.symptoms.forEach(symptom=>{if(!symptoms[symptom.name]){symptoms[symptom.name]={occurrences:0,totalSeverity:0};}symptoms[symptom.name].occurrences+=1;symptoms[symptom.name].totalSeverity+=symptom.severity;});});// Calculate average severity\nObject.keys(symptoms).forEach(name=>{symptoms[name].avgSeverity=Math.round(symptoms[name].totalSeverity/symptoms[name].occurrences*10)/10;});// Format doctor visit summary\nreturn{period:{start:startDate.toISOString(),end:endDate.toISOString()},keySymptoms:Object.keys(symptoms).map(name=>({name,occurrences:symptoms[name].occurrences,avgSeverity:symptoms[name].avgSeverity})),overallPatterns:[\"Headaches occurred most frequently on days following less than 6 hours of sleep (75% of instances)\",\"Headaches were reported on 80% of days with \\\"skipped meals\\\" tag\",\"Higher activity levels (>7,000 steps) were associated with fewer symptoms overall\"],questions:[\"Could my headaches be related to my sleep patterns?\",\"Are there specific types of physical activity you'd recommend?\",\"Should I be concerned about the correlation between meals and headaches?\"]};}/**\r\n   * Save a new journal entry\r\n   * @param {Object} entry - The journal entry to save\r\n   * @returns {Object} - The saved entry\r\n   */saveJournalEntry(entry){return this.healthData.addJournalEntry(entry);}/**\r\n   * Calculate average value from an array of numbers\r\n   * @param {Array} values - Array of numbers\r\n   * @returns {Number} - The average\r\n   */calculateAverage(values){if(values.length===0)return 0;const sum=values.reduce((total,value)=>total+value,0);return Math.round(sum/values.length*10)/10;}/**\r\n   * Count symptoms from journal entries\r\n   * @param {Array} entries - Journal entries\r\n   * @returns {Object} - Symptom counts and stats\r\n   */countSymptoms(entries){const symptoms={};entries.forEach(entry=>{entry.symptoms.forEach(symptom=>{if(!symptoms[symptom.name]){symptoms[symptom.name]={count:0,totalSeverity:0};}symptoms[symptom.name].count+=1;symptoms[symptom.name].totalSeverity+=symptom.severity;});});// Calculate average severity\nObject.keys(symptoms).forEach(name=>{symptoms[name].avgSeverity=Math.round(symptoms[name].totalSeverity/symptoms[name].count*10)/10;});return symptoms;}/**\r\n   * Calculate average for a specific metric on specific days\r\n   * @param {Array} days - Array of day entries\r\n   * @param {Array} metricData - Array of metric data\r\n   * @param {String} metricKey - The metric key to average\r\n   * @returns {Number} - The average\r\n   */calculateAverageForDays(days,metricData,metricKey){if(days.length===0)return 0;const dayTimestamps=days.map(day=>this.getDateString(new Date(day.timestamp)));const relevantMetrics=metricData.filter(metric=>dayTimestamps.includes(this.getDateString(new Date(metric.timestamp))));return this.calculateAverage(relevantMetrics.map(metric=>metric[metricKey]));}/**\r\n   * Get the frequency of tags in journal entries\r\n   * @param {Array} entries - Journal entries\r\n   * @returns {Object} - Tag frequencies\r\n   */getTagsFrequency(entries){const tags={};entries.forEach(entry=>{entry.tags.forEach(tag=>{if(!tags[tag]){tags[tag]=0;}tags[tag]+=1;});});return tags;}/**\r\n   * Get date string (YYYY-MM-DD) from Date object\r\n   * @param {Date} date - The date\r\n   * @returns {String} - Date string\r\n   */getDateString(date){return date.toISOString().split('T')[0];}}export default HealthDataController;","map":{"version":3,"names":["HealthData","HealthDataController","constructor","healthData","loadMockData","journalEntries","id","timestamp","Date","toISOString","mood","energy","symptoms","name","severity","notes","tags","forEach","entry","addJournalEntry","sleepData","duration","quality","data","addHealthMetric","activityData","steps","activeCalories","heartRateData","resting","getHealthSummary","startDate","endDate","getJournalEntriesInRange","getHealthMetricsInRange","moodAverage","calculateAverage","map","energyAverage","symptomCounts","countSymptoms","sleepAverage","stepsAverage","restingHRAverage","period","start","end","entries","length","average","sleep","activity","averageSteps","heartRate","averageResting","getPatternAnalysis","symptom","symptomDays","filter","some","s","toLowerCase","nonSymptomDays","symptomSleepAvg","calculateAverageForDays","nonSymptomSleepAvg","symptomStepsAvg","nonSymptomStepsAvg","symptomTags","getTagsFrequency","nonSymptomTags","symptomDaysCount","nonSymptomDaysCount","comparisons","symptomDaysAvg","nonSymptomDaysAvg","difference","getWeeklyNarrative","setDate","getDate","summary","narrative","Headache","count","avgSeverity","getDoctorVisitSummary","occurrences","totalSeverity","Object","keys","Math","round","keySymptoms","overallPatterns","questions","saveJournalEntry","values","sum","reduce","total","value","days","metricData","metricKey","dayTimestamps","day","getDateString","relevantMetrics","metric","includes","tag","date","split"],"sources":["C:/Users/xiezh/OneDrive/Desktop/code/mlh-hackathon/hoohacks/health_sync_flutter/src/controllers/HealthDataController.js"],"sourcesContent":["import HealthData from '../models/HealthData';\r\n\r\n/**\r\n * HealthDataController - Handles business logic for health data\r\n */\r\nclass HealthDataController {\r\n  constructor() {\r\n    this.healthData = new HealthData();\r\n    this.loadMockData();\r\n  }\r\n\r\n  /**\r\n   * Load mock data for demo purposes\r\n   */\r\n  loadMockData() {\r\n    // Mock journal entries\r\n    const journalEntries = [\r\n      {\r\n        id: '1',\r\n        timestamp: new Date('2025-03-25T08:30:00').toISOString(),\r\n        mood: 3,\r\n        energy: 2,\r\n        symptoms: [{name: 'Headache', severity: 6}],\r\n        notes: 'Slept poorly last night. Busy day with back-to-back meetings.',\r\n        tags: ['stress', 'poor_sleep']\r\n      },\r\n      {\r\n        id: '2',\r\n        timestamp: new Date('2025-03-26T09:15:00').toISOString(),\r\n        mood: 3,\r\n        energy: 3,\r\n        symptoms: [],\r\n        notes: 'Feeling better today. Made time for breakfast.',\r\n        tags: []\r\n      },\r\n      {\r\n        id: '3',\r\n        timestamp: new Date('2025-03-27T08:45:00').toISOString(),\r\n        mood: 4,\r\n        energy: 4,\r\n        symptoms: [],\r\n        notes: 'Productive day. Took a walk during lunch break.',\r\n        tags: ['good_day']\r\n      },\r\n      {\r\n        id: '4',\r\n        timestamp: new Date('2025-03-28T07:30:00').toISOString(),\r\n        mood: 3,\r\n        energy: 3,\r\n        symptoms: [],\r\n        notes: 'Normal day. Nothing special to report.',\r\n        tags: []\r\n      },\r\n      {\r\n        id: '5',\r\n        timestamp: new Date('2025-03-29T08:00:00').toISOString(),\r\n        mood: 2,\r\n        energy: 2,\r\n        symptoms: [{name: 'Headache', severity: 7}, {name: 'Fatigue', severity: 6}],\r\n        notes: 'Skipped breakfast, worked through lunch. Headache started around 2pm.',\r\n        tags: ['skipped_meals', 'headache']\r\n      }\r\n    ];\r\n    \r\n    journalEntries.forEach(entry => this.healthData.addJournalEntry(entry));\r\n    \r\n    // Mock sleep data\r\n    const sleepData = [\r\n      { timestamp: new Date('2025-03-25T00:00:00').toISOString(), duration: 5.5, quality: 'poor' },\r\n      { timestamp: new Date('2025-03-26T00:00:00').toISOString(), duration: 6.5, quality: 'fair' },\r\n      { timestamp: new Date('2025-03-27T00:00:00').toISOString(), duration: 7.2, quality: 'good' },\r\n      { timestamp: new Date('2025-03-28T00:00:00').toISOString(), duration: 6.8, quality: 'fair' },\r\n      { timestamp: new Date('2025-03-29T00:00:00').toISOString(), duration: 6.1, quality: 'fair' }\r\n    ];\r\n    \r\n    sleepData.forEach(data => this.healthData.addHealthMetric('sleep', data));\r\n    \r\n    // Mock activity data\r\n    const activityData = [\r\n      { timestamp: new Date('2025-03-25T00:00:00').toISOString(), steps: 4200, activeCalories: 180 },\r\n      { timestamp: new Date('2025-03-26T00:00:00').toISOString(), steps: 6500, activeCalories: 240 },\r\n      { timestamp: new Date('2025-03-27T00:00:00').toISOString(), steps: 9100, activeCalories: 320 },\r\n      { timestamp: new Date('2025-03-28T00:00:00').toISOString(), steps: 7200, activeCalories: 270 },\r\n      { timestamp: new Date('2025-03-29T00:00:00').toISOString(), steps: 3800, activeCalories: 150 }\r\n    ];\r\n    \r\n    activityData.forEach(data => this.healthData.addHealthMetric('activity', data));\r\n    \r\n    // Mock heart rate data\r\n    const heartRateData = [\r\n      { timestamp: new Date('2025-03-25T00:00:00').toISOString(), resting: 72 },\r\n      { timestamp: new Date('2025-03-26T00:00:00').toISOString(), resting: 70 },\r\n      { timestamp: new Date('2025-03-27T00:00:00').toISOString(), resting: 68 },\r\n      { timestamp: new Date('2025-03-28T00:00:00').toISOString(), resting: 69 },\r\n      { timestamp: new Date('2025-03-29T00:00:00').toISOString(), resting: 74 }\r\n    ];\r\n    \r\n    heartRateData.forEach(data => this.healthData.addHealthMetric('heartRate', data));\r\n  }\r\n\r\n  /**\r\n   * Get a summary of health data for a specific date range\r\n   * @param {Date} startDate - Start of date range\r\n   * @param {Date} endDate - End of date range\r\n   * @returns {Object} - Summary of health data\r\n   */\r\n  getHealthSummary(startDate, endDate) {\r\n    const journalEntries = this.healthData.getJournalEntriesInRange(startDate, endDate);\r\n    const sleepData = this.healthData.getHealthMetricsInRange('sleep', startDate, endDate);\r\n    const activityData = this.healthData.getHealthMetricsInRange('activity', startDate, endDate);\r\n    const heartRateData = this.healthData.getHealthMetricsInRange('heartRate', startDate, endDate);\r\n    \r\n    // Calculate summary statistics\r\n    const moodAverage = this.calculateAverage(journalEntries.map(entry => entry.mood));\r\n    const energyAverage = this.calculateAverage(journalEntries.map(entry => entry.energy));\r\n    const symptomCounts = this.countSymptoms(journalEntries);\r\n    const sleepAverage = this.calculateAverage(sleepData.map(data => data.duration));\r\n    const stepsAverage = this.calculateAverage(activityData.map(data => data.steps));\r\n    const restingHRAverage = this.calculateAverage(heartRateData.map(data => data.resting));\r\n    \r\n    // Format summary\r\n    return {\r\n      period: {\r\n        start: startDate.toISOString(),\r\n        end: endDate.toISOString()\r\n      },\r\n      entries: journalEntries.length,\r\n      mood: {\r\n        average: moodAverage\r\n      },\r\n      energy: {\r\n        average: energyAverage\r\n      },\r\n      symptoms: symptomCounts,\r\n      sleep: {\r\n        average: sleepAverage\r\n      },\r\n      activity: {\r\n        averageSteps: stepsAverage\r\n      },\r\n      heartRate: {\r\n        averageResting: restingHRAverage\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get data for pattern analysis\r\n   * @param {String} symptom - The symptom to analyze\r\n   * @param {Date} startDate - Start of date range\r\n   * @param {Date} endDate - End of date range\r\n   * @returns {Object} - Pattern analysis data\r\n   */\r\n  getPatternAnalysis(symptom, startDate, endDate) {\r\n    const journalEntries = this.healthData.getJournalEntriesInRange(startDate, endDate);\r\n    const sleepData = this.healthData.getHealthMetricsInRange('sleep', startDate, endDate);\r\n    const activityData = this.healthData.getHealthMetricsInRange('activity', startDate, endDate);\r\n    \r\n    // Separate entries with and without the symptom\r\n    const symptomDays = journalEntries.filter(entry => \r\n      entry.symptoms.some(s => s.name.toLowerCase() === symptom.toLowerCase())\r\n    );\r\n    \r\n    const nonSymptomDays = journalEntries.filter(entry => \r\n      !entry.symptoms.some(s => s.name.toLowerCase() === symptom.toLowerCase())\r\n    );\r\n    \r\n    // Calculate averages for both groups\r\n    const symptomSleepAvg = this.calculateAverageForDays(symptomDays, sleepData, 'duration');\r\n    const nonSymptomSleepAvg = this.calculateAverageForDays(nonSymptomDays, sleepData, 'duration');\r\n    \r\n    const symptomStepsAvg = this.calculateAverageForDays(symptomDays, activityData, 'steps');\r\n    const nonSymptomStepsAvg = this.calculateAverageForDays(nonSymptomDays, activityData, 'steps');\r\n    \r\n    // Get tags frequency\r\n    const symptomTags = this.getTagsFrequency(symptomDays);\r\n    const nonSymptomTags = this.getTagsFrequency(nonSymptomDays);\r\n    \r\n    return {\r\n      symptom,\r\n      period: {\r\n        start: startDate.toISOString(),\r\n        end: endDate.toISOString()\r\n      },\r\n      symptomDaysCount: symptomDays.length,\r\n      nonSymptomDaysCount: nonSymptomDays.length,\r\n      comparisons: {\r\n        sleep: {\r\n          symptomDaysAvg: symptomSleepAvg,\r\n          nonSymptomDaysAvg: nonSymptomSleepAvg,\r\n          difference: nonSymptomSleepAvg - symptomSleepAvg\r\n        },\r\n        activity: {\r\n          symptomDaysAvg: symptomStepsAvg,\r\n          nonSymptomDaysAvg: nonSymptomStepsAvg,\r\n          difference: nonSymptomStepsAvg - symptomStepsAvg\r\n        }\r\n      },\r\n      tags: {\r\n        symptomDays: symptomTags,\r\n        nonSymptomDays: nonSymptomTags\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get the weekly narrative summary\r\n   * @returns {String} - Narrative text\r\n   */\r\n  getWeeklyNarrative() {\r\n    const endDate = new Date();\r\n    const startDate = new Date();\r\n    startDate.setDate(startDate.getDate() - 7);\r\n    \r\n    const summary = this.getHealthSummary(startDate, endDate);\r\n    \r\n    // Generate a narrative\r\n    let narrative = \"Your Week in Review\\n\\n\";\r\n    \r\n    if (summary.symptoms.Headache) {\r\n      narrative += `This week, you logged headaches on ${summary.symptoms.Headache.count} days, `;\r\n      narrative += `typically rating them as moderate to severe (${summary.symptoms.Headache.avgSeverity}/10). `;\r\n    }\r\n    \r\n    narrative += `Your energy levels tended to be higher on days when you slept more than 7 hours `;\r\n    narrative += `and took more than 8,000 steps. `;\r\n    \r\n    if (summary.symptoms.Headache && summary.symptoms.Headache.count > 0) {\r\n      narrative += `Notably, headache days occurred when you had fewer than 6 hours of sleep `;\r\n      narrative += `and lower physical activity. Your heart rate was also slightly elevated on these days `;\r\n      narrative += `compared to your headache-free days.`;\r\n    }\r\n    \r\n    return narrative;\r\n  }\r\n\r\n  /**\r\n   * Get doctor visit summary\r\n   * @returns {Object} - Summary data for doctor visit\r\n   */\r\n  getDoctorVisitSummary() {\r\n    const endDate = new Date();\r\n    const startDate = new Date();\r\n    startDate.setDate(startDate.getDate() - 30);\r\n    \r\n    const summary = this.getHealthSummary(startDate, endDate);\r\n    const journalEntries = this.healthData.getJournalEntriesInRange(startDate, endDate);\r\n    \r\n    // Get all unique symptoms\r\n    const symptoms = {};\r\n    journalEntries.forEach(entry => {\r\n      entry.symptoms.forEach(symptom => {\r\n        if (!symptoms[symptom.name]) {\r\n          symptoms[symptom.name] = {\r\n            occurrences: 0,\r\n            totalSeverity: 0\r\n          };\r\n        }\r\n        symptoms[symptom.name].occurrences += 1;\r\n        symptoms[symptom.name].totalSeverity += symptom.severity;\r\n      });\r\n    });\r\n    \r\n    // Calculate average severity\r\n    Object.keys(symptoms).forEach(name => {\r\n      symptoms[name].avgSeverity = \r\n        Math.round((symptoms[name].totalSeverity / symptoms[name].occurrences) * 10) / 10;\r\n    });\r\n    \r\n    // Format doctor visit summary\r\n    return {\r\n      period: {\r\n        start: startDate.toISOString(),\r\n        end: endDate.toISOString()\r\n      },\r\n      keySymptoms: Object.keys(symptoms).map(name => ({\r\n        name,\r\n        occurrences: symptoms[name].occurrences,\r\n        avgSeverity: symptoms[name].avgSeverity\r\n      })),\r\n      overallPatterns: [\r\n        \"Headaches occurred most frequently on days following less than 6 hours of sleep (75% of instances)\",\r\n        \"Headaches were reported on 80% of days with \\\"skipped meals\\\" tag\",\r\n        \"Higher activity levels (>7,000 steps) were associated with fewer symptoms overall\"\r\n      ],\r\n      questions: [\r\n        \"Could my headaches be related to my sleep patterns?\",\r\n        \"Are there specific types of physical activity you'd recommend?\",\r\n        \"Should I be concerned about the correlation between meals and headaches?\"\r\n      ]\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Save a new journal entry\r\n   * @param {Object} entry - The journal entry to save\r\n   * @returns {Object} - The saved entry\r\n   */\r\n  saveJournalEntry(entry) {\r\n    return this.healthData.addJournalEntry(entry);\r\n  }\r\n\r\n  /**\r\n   * Calculate average value from an array of numbers\r\n   * @param {Array} values - Array of numbers\r\n   * @returns {Number} - The average\r\n   */\r\n  calculateAverage(values) {\r\n    if (values.length === 0) return 0;\r\n    const sum = values.reduce((total, value) => total + value, 0);\r\n    return Math.round((sum / values.length) * 10) / 10;\r\n  }\r\n\r\n  /**\r\n   * Count symptoms from journal entries\r\n   * @param {Array} entries - Journal entries\r\n   * @returns {Object} - Symptom counts and stats\r\n   */\r\n  countSymptoms(entries) {\r\n    const symptoms = {};\r\n    \r\n    entries.forEach(entry => {\r\n      entry.symptoms.forEach(symptom => {\r\n        if (!symptoms[symptom.name]) {\r\n          symptoms[symptom.name] = {\r\n            count: 0,\r\n            totalSeverity: 0\r\n          };\r\n        }\r\n        symptoms[symptom.name].count += 1;\r\n        symptoms[symptom.name].totalSeverity += symptom.severity;\r\n      });\r\n    });\r\n    \r\n    // Calculate average severity\r\n    Object.keys(symptoms).forEach(name => {\r\n      symptoms[name].avgSeverity = \r\n        Math.round((symptoms[name].totalSeverity / symptoms[name].count) * 10) / 10;\r\n    });\r\n    \r\n    return symptoms;\r\n  }\r\n\r\n  /**\r\n   * Calculate average for a specific metric on specific days\r\n   * @param {Array} days - Array of day entries\r\n   * @param {Array} metricData - Array of metric data\r\n   * @param {String} metricKey - The metric key to average\r\n   * @returns {Number} - The average\r\n   */\r\n  calculateAverageForDays(days, metricData, metricKey) {\r\n    if (days.length === 0) return 0;\r\n    \r\n    const dayTimestamps = days.map(day => this.getDateString(new Date(day.timestamp)));\r\n    const relevantMetrics = metricData.filter(metric => \r\n      dayTimestamps.includes(this.getDateString(new Date(metric.timestamp)))\r\n    );\r\n    \r\n    return this.calculateAverage(relevantMetrics.map(metric => metric[metricKey]));\r\n  }\r\n\r\n  /**\r\n   * Get the frequency of tags in journal entries\r\n   * @param {Array} entries - Journal entries\r\n   * @returns {Object} - Tag frequencies\r\n   */\r\n  getTagsFrequency(entries) {\r\n    const tags = {};\r\n    \r\n    entries.forEach(entry => {\r\n      entry.tags.forEach(tag => {\r\n        if (!tags[tag]) {\r\n          tags[tag] = 0;\r\n        }\r\n        tags[tag] += 1;\r\n      });\r\n    });\r\n    \r\n    return tags;\r\n  }\r\n\r\n  /**\r\n   * Get date string (YYYY-MM-DD) from Date object\r\n   * @param {Date} date - The date\r\n   * @returns {String} - Date string\r\n   */\r\n  getDateString(date) {\r\n    return date.toISOString().split('T')[0];\r\n  }\r\n}\r\n\r\nexport default HealthDataController;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}