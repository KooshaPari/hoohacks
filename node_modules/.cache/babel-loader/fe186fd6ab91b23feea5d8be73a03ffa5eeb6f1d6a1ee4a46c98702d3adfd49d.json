{"ast":null,"code":"import React,{useState,useEffect}from'react';import DoctorVisitPresenter from'../presenters/DoctorVisitPresenter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DoctorVisit(){const[summaryData,setSummaryData]=useState(null);const[newQuestion,setNewQuestion]=useState('');const[questions,setQuestions]=useState([]);const[loading,setLoading]=useState(true);const[shareableText,setShareableText]=useState('');const[showShareable,setShowShareable]=useState(false);const presenter=new DoctorVisitPresenter();useEffect(()=>{// Get doctor visit summary from presenter\nconst data=presenter.getDoctorVisitSummary();setSummaryData(data);setQuestions(data.questions);setLoading(false);},[]);const handleQuestionChange=e=>{setNewQuestion(e.target.value);};const handleAddQuestion=e=>{e.preventDefault();if(newQuestion.trim()){// Add question via presenter\nconst updatedQuestions=[...questions,newQuestion];setQuestions(updatedQuestions);setNewQuestion('');}};const handleGenerateShareable=()=>{// Generate shareable text via presenter\nconst text=presenter.generateShareableText();setShareableText(text);setShowShareable(true);};const handleCopyText=()=>{navigator.clipboard.writeText(shareableText).then(()=>{alert('Summary copied to clipboard!');}).catch(err=>{console.error('Could not copy text: ',err);});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading doctor visit summary...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-visit\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Doctor Visit Preparation\"}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateShareable,className:\"btn\",children:\"Generate Shareable Summary\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"period\",children:[\"Health Summary: \",summaryData.period.start,\" - \",summaryData.period.end]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Key Symptoms Reported\"}),summaryData.keySymptoms.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No symptoms reported during this period.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"symptoms-list\",children:summaryData.keySymptoms.map((symptom,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"symptom-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:symptom.name}),/*#__PURE__*/_jsxs(\"p\",{children:[symptom.occurrences,\" occurrences (avg. severity \",symptom.avgSeverity,\"/10)\"]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Overall Patterns\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"patterns-list\",children:summaryData.overallPatterns.map((pattern,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"pattern-item\",children:pattern},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Questions for Doctor\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"questions-list\",children:questions.map((question,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"question-item\",children:question},index))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddQuestion,className:\"add-question-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-question\",children:\"Add a question:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"new-question\",value:newQuestion,onChange:handleQuestionChange,className:\"form-control\",placeholder:\"Enter a question for your doctor...\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Add Question\"})]})]}),showShareable&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shareable Health Summary\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowShareable(false),className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"shareable-text\",children:shareableText})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyText,className:\"btn\",children:\"Copy to Clipboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowShareable(false),className:\"btn btn-secondary\",children:\"Close\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card tips-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tips for Your Doctor Visit\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"tips-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Bring this summary to your appointment or share it in advance if possible.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Focus on the patterns you've noticed, rather than just symptoms.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Mention any lifestyle changes you've tried and their effects.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Ask about the potential connections between symptoms and lifestyle factors shown in your data.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Discuss any medication side effects or effectiveness if applicable.\"})]})]})]});}export default DoctorVisit;","map":{"version":3,"names":["React","useState","useEffect","DoctorVisitPresenter","jsx","_jsx","jsxs","_jsxs","DoctorVisit","summaryData","setSummaryData","newQuestion","setNewQuestion","questions","setQuestions","loading","setLoading","shareableText","setShareableText","showShareable","setShowShareable","presenter","data","getDoctorVisitSummary","handleQuestionChange","e","target","value","handleAddQuestion","preventDefault","trim","updatedQuestions","handleGenerateShareable","text","generateShareableText","handleCopyText","navigator","clipboard","writeText","then","alert","catch","err","console","error","className","children","onClick","period","start","end","keySymptoms","length","map","symptom","index","name","occurrences","avgSeverity","overallPatterns","pattern","question","onSubmit","htmlFor","type","id","onChange","placeholder"],"sources":["/Users/kooshapari/temp-PRODVERCEL/hoohacks/tester/src/views/DoctorVisit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DoctorVisitPresenter from '../presenters/DoctorVisitPresenter';\n\nfunction DoctorVisit() {\n  const [summaryData, setSummaryData] = useState(null);\n  const [newQuestion, setNewQuestion] = useState('');\n  const [questions, setQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [shareableText, setShareableText] = useState('');\n  const [showShareable, setShowShareable] = useState(false);\n  const presenter = new DoctorVisitPresenter();\n  \n  useEffect(() => {\n    // Get doctor visit summary from presenter\n    const data = presenter.getDoctorVisitSummary();\n    setSummaryData(data);\n    setQuestions(data.questions);\n    setLoading(false);\n  }, []);\n  \n  const handleQuestionChange = (e) => {\n    setNewQuestion(e.target.value);\n  };\n  \n  const handleAddQuestion = (e) => {\n    e.preventDefault();\n    if (newQuestion.trim()) {\n      // Add question via presenter\n      const updatedQuestions = [...questions, newQuestion];\n      setQuestions(updatedQuestions);\n      setNewQuestion('');\n    }\n  };\n  \n  const handleGenerateShareable = () => {\n    // Generate shareable text via presenter\n    const text = presenter.generateShareableText();\n    setShareableText(text);\n    setShowShareable(true);\n  };\n  \n  const handleCopyText = () => {\n    navigator.clipboard.writeText(shareableText)\n      .then(() => {\n        alert('Summary copied to clipboard!');\n      })\n      .catch(err => {\n        console.error('Could not copy text: ', err);\n      });\n  };\n  \n  if (loading) {\n    return <div className=\"loading\">Loading doctor visit summary...</div>;\n  }\n  \n  return (\n    <div className=\"doctor-visit\">\n      <h2>Doctor Visit Preparation</h2>\n      \n      <div className=\"summary-actions\">\n        <button onClick={handleGenerateShareable} className=\"btn\">\n          Generate Shareable Summary\n        </button>\n      </div>\n      \n      {/* Summary period */}\n      <p className=\"period\">\n        Health Summary: {summaryData.period.start} - {summaryData.period.end}\n      </p>\n      \n      {/* Key Symptoms Section */}\n      <div className=\"card\">\n        <h3>Key Symptoms Reported</h3>\n        \n        {summaryData.keySymptoms.length === 0 ? (\n          <p>No symptoms reported during this period.</p>\n        ) : (\n          <div className=\"symptoms-list\">\n            {summaryData.keySymptoms.map((symptom, index) => (\n              <div key={index} className=\"symptom-item\">\n                <h4>{symptom.name}</h4>\n                <p>{symptom.occurrences} occurrences (avg. severity {symptom.avgSeverity}/10)</p>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      \n      {/* Overall Patterns */}\n      <div className=\"card\">\n        <h3>Overall Patterns</h3>\n        \n        <ul className=\"patterns-list\">\n          {summaryData.overallPatterns.map((pattern, index) => (\n            <li key={index} className=\"pattern-item\">{pattern}</li>\n          ))}\n        </ul>\n      </div>\n      \n      {/* Questions for Doctor */}\n      <div className=\"card\">\n        <h3>Questions for Doctor</h3>\n        \n        <ul className=\"questions-list\">\n          {questions.map((question, index) => (\n            <li key={index} className=\"question-item\">{question}</li>\n          ))}\n        </ul>\n        \n        <form onSubmit={handleAddQuestion} className=\"add-question-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"new-question\">Add a question:</label>\n            <input\n              type=\"text\"\n              id=\"new-question\"\n              value={newQuestion}\n              onChange={handleQuestionChange}\n              className=\"form-control\"\n              placeholder=\"Enter a question for your doctor...\"\n            />\n          </div>\n          <button type=\"submit\" className=\"btn\">Add Question</button>\n        </form>\n      </div>\n      \n      {/* Shareable Text Modal */}\n      {showShareable && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h3>Shareable Health Summary</h3>\n              <button onClick={() => setShowShareable(false)} className=\"close-btn\">&times;</button>\n            </div>\n            <div className=\"modal-body\">\n              <pre className=\"shareable-text\">{shareableText}</pre>\n            </div>\n            <div className=\"modal-footer\">\n              <button onClick={handleCopyText} className=\"btn\">Copy to Clipboard</button>\n              <button onClick={() => setShowShareable(false)} className=\"btn btn-secondary\">Close</button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Health Summary Tips */}\n      <div className=\"card tips-card\">\n        <h3>Tips for Your Doctor Visit</h3>\n        \n        <ul className=\"tips-list\">\n          <li>Bring this summary to your appointment or share it in advance if possible.</li>\n          <li>Focus on the patterns you've noticed, rather than just symptoms.</li>\n          <li>Mention any lifestyle changes you've tried and their effects.</li>\n          <li>Ask about the potential connections between symptoms and lifestyle factors shown in your data.</li>\n          <li>Discuss any medication side effects or effectiveness if applicable.</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default DoctorVisit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}